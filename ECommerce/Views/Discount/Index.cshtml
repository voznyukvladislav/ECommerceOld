@using ECommerce.Data;
@model List<Discount>

<script src="~/js/adders.js"></script>
<script src="~/js/updaters.js"></script>
<script src="~/js/deleters.js"></script>
<script src="~/js/jQuery.js"></script>

<div class="form">
    <p class="formHeader"> Додати нову знижку </p>
    <form action="post" autocomplete="off" spellcheck="false">
        <input class="formInput" id="inputName" type="text" name="Discount.Name" placeholder="Введіть назву знижки">
        <input class="formInput" id="inputValue" type="number" min="0.01" max="1.00" step="0.01" name="Discount.Value" placeholder="Введіть значення (від 0.01 до 1.00)">
        <a class="formButton" onclick="addDiscount('inputName', 'inputValue')"> Додати </a>
    </form>
</div>

<hr>

@for(int i = 0; i < Model.Count; i++) {
    <div class="form">
        <p class="formHeader"> Знижка №@(i + 1) </p>
        <form action="post" autocomplete="off" spellcheck="false">
            <input id="formInputId@(i)" readonly class="formInput" type="text" name="Discount.Id" value="@Model[i].Id">
            <input id="formInputName@(i)" class="formInput" type="text" name="Discount.Name" value="@Model[i].Name" placeholder="Введіть ім'я користувача'">
            <input id="formInputValue@(i)" class="formInput" type="number" min="0.01" max="1.00" step="0.01" name="Discount.Value" value="@Model[i].Value.ToString("0.00", System.Globalization.CultureInfo.InvariantCulture)" placeholder="Введіть пароль користувача'">
            <table class="buttonsHolder">
                <tr>
                    <td><a class="button" onclick="updateDiscount('formInputId@(i)', 'formInputName@(i)', 'formInputValue@(i)')">Змінити</a></td>
                    <td><a class="button deleteButton" onclick="deleteDiscount('formInputId@(i)')">Видалити</a></td>
                </tr>
            </table>
        </form>
    </div>
}